<?xml version="1.0" encoding="UTF-8"?>
<class name="ninja" extends="Actor" extends-java="Actor" enable="true" strideversion="1">
    <javadoc xml:space="preserve"/>
    <imports>
        <import target="java.util.*" enable="true"/>
        <import target="greenfoot.*" enable="true"/>
    </imports>
    <implements/>
    <fields>
        <variable access="private" type="int" type-java="int" name="speed" value="3" value-java="3" enable="true"/>
        <variable access="private" type="Actor" type-java="Actor" name="under" enable="true"/>
        <variable access="private" type="int" type-java="int" name="vspeed" value="0" value-java="0" enable="true"/>
        <variable access="private" type="int" type-java="int" name="fireballs" value="0" value-java="0" enable="true"/>
        <variable access="private" type="int" type-java="int" name="shuriken" value="0" value-java="0" enable="true"/>
        <variable access="private" type="boolean" type-java="boolean" name="shuflag" value="false" value-java="false" enable="true"/>
        <variable access="private" type="boolean" type-java="boolean" name="fireflag" value="false" value-java="false" enable="true"/>
    </fields>
    <constructors/>
    <methods>
        <method access="public" type="void" type-java="void" name="act" enable="true">
            <javadoc xml:space="preserve">Act - do whatever the ninja wants to do. This method is called whenever the 'Act' or 'Run' button gets pressed in the environment.</javadoc>
            <params/>
            <throws/>
            <body>
                <if condition="Greenfoot.isKeyDown(&quot;down&quot;)" condition-java="Greenfoot.isKeyDown(&quot;down&quot;)" enable="true">
                    <ifStatements>
                        <call expression="setRotation(getRotation()-5)" expression-java="setRotation(getRotation() - 5)" enable="true"/>
                    </ifStatements>
                </if>
                <if condition="Greenfoot.isKeyDown(&quot;up&quot;)" condition-java="Greenfoot.isKeyDown(&quot;up&quot;)" enable="true">
                    <ifStatements>
                        <call expression="setRotation(getRotation()+5)" expression-java="setRotation(getRotation() + 5)" enable="true"/>
                    </ifStatements>
                </if>
                <if condition="&quot;space&quot;.equals(Greenfoot.getKey())" condition-java="&quot;space&quot;.equals(Greenfoot.getKey())" enable="true">
                    <ifStatements>
                        <call expression="fire()" expression-java="fire()" enable="true"/>
                    </ifStatements>
                </if>
                <if condition="Greenfoot.isKeyDown(&quot;right&quot;)" condition-java="Greenfoot.isKeyDown(&quot;right&quot;)" enable="true">
                    <ifStatements>
                        <call expression="moveRight()" expression-java="moveRight()" enable="true"/>
                    </ifStatements>
                </if>
                <if condition="Greenfoot.isKeyDown(&quot;left&quot;)" condition-java="Greenfoot.isKeyDown(&quot;left&quot;)" enable="true">
                    <ifStatements>
                        <call expression="moveLeft()" expression-java="moveLeft()" enable="true"/>
                    </ifStatements>
                </if>
                <if condition="onGround()||onBaseGround()" condition-java="onGround() || onBaseGround()" enable="true">
                    <ifStatements>
                        <assign dest="vspeed" dest-java="vspeed" src="0" src-java="0" enable="true"/>
                        <blank/>
                    </ifStatements>
                    <else>
                        <call expression="fall()" expression-java="fall()" enable="true"/>
                    </else>
                </if>
                <if condition="Greenfoot.isKeyDown(&quot;shift&quot;)" condition-java="Greenfoot.isKeyDown(&quot;shift&quot;)" enable="true">
                    <ifStatements>
                        <call expression="jump()" expression-java="jump()" enable="true"/>
                    </ifStatements>
                </if>
                <call expression="getFireballs()" expression-java="getFireballs()" enable="true"/>
                <call expression="getShriken()" expression-java="getShriken()" enable="true"/>
                <call expression="killed()" expression-java="killed()" enable="true"/>
                <call expression="checkobstacles()" expression-java="checkobstacles()" enable="true"/>
            </body>
        </method>
        <method access="private" type="void" type-java="void" name="fire" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <variable type="blob" type-java="blob" name="blob1" value="new blob()" value-java=" new blob()" enable="false"/>
                <call expression="getWorld().addObject(blob1,getX(),getY())" expression-java="getWorld().addObject(blob1, getX(), getY())" enable="false"/>
                <call expression="blob1.setRotation(getRotation())" expression-java="blob1.setRotation(getRotation())" enable="false"/>
                <variable type="fireballs" type-java="fireballs" name="suri1" value="new fireballs()" value-java=" new fireballs()" enable="false"/>
                <call expression="getWorld().addObject(suri1,getX(),getY())" expression-java="getWorld().addObject(suri1, getX(), getY())" enable="false"/>
                <call expression="suri1.setRotation(getRotation())" expression-java="suri1.setRotation(getRotation())" enable="false"/>
                <if condition="fireflag&amp;&amp;!shuflag" condition-java="fireflag &amp;&amp; ! shuflag" enable="true">
                    <ifStatements>
                        <variable type="fireballs" type-java="fireballs" name="suri1" value="new fireballs()" value-java=" new fireballs()" enable="true"/>
                        <call expression="getWorld().addObject(suri1,getX(),getY())" expression-java="getWorld().addObject(suri1, getX(), getY())" enable="true"/>
                        <call expression="suri1.setRotation(getRotation())" expression-java="suri1.setRotation(getRotation())" enable="true"/>
                    </ifStatements>
                </if>
                <if condition="shuflag&amp;&amp;!fireflag" condition-java="shuflag &amp;&amp; ! fireflag" enable="true">
                    <ifStatements>
                        <variable type="Shuriken" type-java="Shuriken" name="suri1" value="new Shuriken()" value-java=" new Shuriken()" enable="true"/>
                        <call expression="getWorld().addObject(suri1,getX(),getY())" expression-java="getWorld().addObject(suri1, getX(), getY())" enable="true"/>
                        <call expression="suri1.setRotation(getRotation())" expression-java="suri1.setRotation(getRotation())" enable="true"/>
                    </ifStatements>
                </if>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="moveRight" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <call expression="setLocation(getX()+speed,getY())" expression-java="setLocation(getX() + speed, getY())" enable="true"/>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="moveLeft" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <call expression="setLocation(getX()-speed,getY())" expression-java="setLocation(getX() - speed, getY())" enable="true"/>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="fall" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <call expression="setLocation(getX(),getY()+vspeed)" expression-java="setLocation(getX(), getY() + vspeed)" enable="true"/>
                <assign dest="vspeed" dest-java="vspeed" src="vspeed+2" src-java="vspeed + 2" enable="true"/>
            </body>
        </method>
        <method access="public" type="boolean" type-java="boolean" name="onGround" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <assign dest="under" dest-java="under" src="getOneObjectAtOffset(0,getImage().getHeight()/2,Bricks.class)" src-java="getOneObjectAtOffset(0, getImage().getHeight() / 2, Bricks.class)" enable="true"/>
                <return value="under!=null" value-java="under != null" enable="true"/>
            </body>
        </method>
        <method access="public" type="boolean" type-java="boolean" name="onBaseGround" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <assign dest="under" dest-java="under" src="getOneObjectAtOffset(0,getImage().getHeight()/2,BaseBrick.class)" src-java="getOneObjectAtOffset(0, getImage().getHeight() / 2, BaseBrick.class)" enable="true"/>
                <return value="under!=null" value-java="under != null" enable="true"/>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="jump" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <assign dest="vspeed" dest-java="vspeed" src="-5" src-java="-5" enable="true"/>
                <call expression="fall()" expression-java="fall()" enable="true"/>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="getFireballs" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <if condition="isTouching(fireballs.class)" condition-java="isTouching(fireballs.class)" enable="true">
                    <ifStatements>
                        <if condition="fireballs==3" condition-java="fireballs == 3" enable="true">
                            <ifStatements>
                                <call expression="removeTouching(fireballs.class)" expression-java="removeTouching(fireballs.class)" enable="true"/>
                                <assign dest="fireballs" dest-java="fireballs" src="fireballs+1" src-java="fireballs + 1" enable="true"/>
                                <assign dest="fireflag" dest-java="fireflag" src="true" src-java="true" enable="true"/>
                            </ifStatements>
                            <else>
                                <assign dest="fireballs" dest-java="fireballs" src="fireballs+1" src-java="fireballs + 1" enable="true"/>
                            </else>
                        </if>
                    </ifStatements>
                </if>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="getShriken" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <if condition="isTouching(Shuriken.class)" condition-java="isTouching(Shuriken.class)" enable="true">
                    <ifStatements>
                        <call expression="removeTouching(Shuriken.class)" expression-java="removeTouching(Shuriken.class)" enable="true"/>
                        <assign dest="shuriken" dest-java="shuriken" src="shuriken+1" src-java="shuriken + 1" enable="true"/>
                        <assign dest="shuflag" dest-java="shuflag" src="true" src-java="true" enable="true"/>
                        <blank/>
                    </ifStatements>
                </if>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="killed" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <if condition="isTouching(barrier.class)||isTouching(Bomb.class)" condition-java="isTouching(barrier.class) || isTouching(Bomb.class)" enable="true">
                    <ifStatements>
                        <call expression="getWorld().removeObject(this)" expression-java="getWorld().removeObject(this)" enable="true"/>
                        <blank/>
                    </ifStatements>
                </if>
            </body>
        </method>
        <method access="public" type="void" type-java="void" name="checkobstacles" enable="true">
            <javadoc xml:space="preserve"/>
            <params/>
            <throws/>
            <body>
                <variable type="Actor" type-java="Actor" name="bricks" value="getOneIntersectingObject(Bricks.class)" value-java="getOneIntersectingObject(Bricks.class)" enable="true"/>
                <if condition="bricks!=null&amp;&amp;!onGround()" condition-java="bricks != null &amp;&amp; ! onGround()" enable="true">
                    <ifStatements>
                        <call expression="move(-5)" expression-java="move(-5)" enable="true"/>
                    </ifStatements>
                </if>
            </body>
        </method>
    </methods>
</class>
